{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bilous/Projects/umka/marvel_starter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bilous/Projects/umka/marvel_starter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useHttp}from\"../hooks/http.hook\";var useComicsService=function useComicsService(){var _useHttp=useHttp(),loading=_useHttp.loading,request=_useHttp.request,error=_useHttp.error,clearError=_useHttp.clearError;var _apiBase=\"https://gateway.marvel.com:443/v1/public/\";var _apiKey=\"apikey=26bf773b3288c2d35df092385ce05b83\";var _baseOffset=522;var getAllComics=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var offset,res,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:offset=_args.length>0&&_args[0]!==undefined?_args[0]:_baseOffset;_context.next=3;return request(\"\".concat(_apiBase,\"comics?limit=9&offset=\").concat(offset,\"&\").concat(_apiKey));case 3:res=_context.sent;return _context.abrupt(\"return\",res.data.results.map(_transformComics));case 5:case\"end\":return _context.stop();}}},_callee);}));return function getAllComics(){return _ref.apply(this,arguments);};}();var getComic=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return request(\"\".concat(_apiBase,\"comics/\").concat(id,\"?\").concat(_apiKey,\" \"));case 2:res=_context2.sent;return _context2.abrupt(\"return\",_transformComics(res.data.results[0]));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getComic(_x){return _ref2.apply(this,arguments);};}();var _transformComics=function _transformComics(comics){return{id:comics.id,title:comics.title,description:comics.description||'There is no description',pageCount:comics.pageCount?\"\".concat(comics.pageCount,\" p.\"):'No information about the number of pages',thumbnail:comics.thumbnail.path+'.'+comics.thumbnail.extension,language:comics.textObjects.language||'en-us',price:comics.prices.price?\"\".concat(comics.prices.price,\"$\"):'not available'};};// const _transformComics = (comic) => {\n//     return {\n//         id: comic.id,\n//         items: comic.items,\n//         title: comic.title,\n//         issueNumber: comic.issueNumber,\n//         thumbnail: comic.thumbnail.path + \".\" + comic.thumbnail.extension,\n//         prices: comic.prices\n//     };\n//\n// };\nreturn{loading:loading,error:error,getAllComics:getAllComics,getComic:getComic,clearError:clearError};};export default useComicsService;","map":{"version":3,"names":["useHttp","useComicsService","loading","request","error","clearError","_apiBase","_apiKey","_baseOffset","getAllComics","offset","res","data","results","map","_transformComics","getComic","id","comics","title","description","pageCount","thumbnail","path","extension","language","textObjects","price","prices"],"sources":["/Users/bilous/Projects/umka/marvel_starter/src/services/ComicsService.js"],"sourcesContent":["import {useHttp} from \"../hooks/http.hook\";\n\n\nconst useComicsService = () => {\n    const {loading, request, error, clearError} = useHttp();\n    const _apiBase = \"https://gateway.marvel.com:443/v1/public/\";\n    const _apiKey = \"apikey=26bf773b3288c2d35df092385ce05b83\";\n    const _baseOffset = 522;\n\n\n\n\n\n    const getAllComics= async (offset = _baseOffset) => {\n        const res = await request(`${_apiBase}comics?limit=9&offset=${offset}&${_apiKey}`);\n        return res.data.results.map(_transformComics);\n    };\n\n    const getComic = async (id) => {\n        const res = await request(`${_apiBase}comics/${id}?${_apiKey} `);\n        return _transformComics(res.data.results[0]);\n    };\n     const _transformComics = (comics) => {\n        return {\n            id: comics.id,\n            title: comics.title,\n            description: comics.description || 'There is no description',\n            pageCount: comics.pageCount ? `${comics.pageCount} p.` : 'No information about the number of pages',\n            thumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\n            language: comics.textObjects.language || 'en-us',\n            price: comics.prices.price ? `${comics.prices.price}$` : 'not available'\n\n\n        }\n    }\n\n    // const _transformComics = (comic) => {\n    //     return {\n    //         id: comic.id,\n    //         items: comic.items,\n    //         title: comic.title,\n    //         issueNumber: comic.issueNumber,\n    //         thumbnail: comic.thumbnail.path + \".\" + comic.thumbnail.extension,\n    //         prices: comic.prices\n    //     };\n    //\n    // };\n    return {loading, error, getAllComics, getComic, clearError};\n}\n\n\n\nexport default useComicsService;"],"mappings":"gRAAA,OAAQA,OAAR,KAAsB,oBAAtB,CAGA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC3B,aAA8CD,OAAO,EAArD,CAAOE,OAAP,UAAOA,OAAP,CAAgBC,OAAhB,UAAgBA,OAAhB,CAAyBC,KAAzB,UAAyBA,KAAzB,CAAgCC,UAAhC,UAAgCA,UAAhC,CACA,GAAMC,SAAQ,CAAG,2CAAjB,CACA,GAAMC,QAAO,CAAG,yCAAhB,CACA,GAAMC,YAAW,CAAG,GAApB,CAMA,GAAMC,aAAY,4FAAE,oKAAOC,MAAP,+CAAgBF,WAAhB,uBACEL,QAAO,WAAIG,QAAJ,kCAAqCI,MAArC,aAA+CH,OAA/C,EADT,QACVI,GADU,+CAETA,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiBC,GAAjB,CAAqBC,gBAArB,CAFS,wDAAF,kBAAZN,aAAY,0CAAlB,CAKA,GAAMO,SAAQ,6FAAG,kBAAOC,EAAP,uJACKd,QAAO,WAAIG,QAAJ,mBAAsBW,EAAtB,aAA4BV,OAA5B,MADZ,QACPI,GADO,iDAENI,gBAAgB,CAACJ,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiB,CAAjB,CAAD,CAFV,0DAAH,kBAARG,SAAQ,6CAAd,CAIC,GAAMD,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACG,MAAD,CAAY,CAClC,MAAO,CACHD,EAAE,CAAEC,MAAM,CAACD,EADR,CAEHE,KAAK,CAAED,MAAM,CAACC,KAFX,CAGHC,WAAW,CAAEF,MAAM,CAACE,WAAP,EAAsB,yBAHhC,CAIHC,SAAS,CAAEH,MAAM,CAACG,SAAP,WAAsBH,MAAM,CAACG,SAA7B,QAA8C,0CAJtD,CAKHC,SAAS,CAAEJ,MAAM,CAACI,SAAP,CAAiBC,IAAjB,CAAwB,GAAxB,CAA8BL,MAAM,CAACI,SAAP,CAAiBE,SALvD,CAMHC,QAAQ,CAAEP,MAAM,CAACQ,WAAP,CAAmBD,QAAnB,EAA+B,OANtC,CAOHE,KAAK,CAAET,MAAM,CAACU,MAAP,CAAcD,KAAd,WAAyBT,MAAM,CAACU,MAAP,CAAcD,KAAvC,MAAkD,eAPtD,CAAP,CAWH,CAZA,CAcD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,CAACzB,OAAO,CAAPA,OAAD,CAAUE,KAAK,CAALA,KAAV,CAAiBK,YAAY,CAAZA,YAAjB,CAA+BO,QAAQ,CAARA,QAA/B,CAAyCX,UAAU,CAAVA,UAAzC,CAAP,CACH,CA7CD,CAiDA,cAAeJ,iBAAf"},"metadata":{},"sourceType":"module"}