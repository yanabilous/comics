{"ast":null,"code":"import _slicedToArray from\"/Users/bilous/Projects/umka/marvel_starter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams,Link}from\"react-router-dom\";import{useState,useEffect}from\"react\";import ErrorMessage from\"../errorMessage/ErrorMessage\";import Spinner from\"../spinner/Spinner\";import useComicsService from\"../../services/ComicsService\";import\"./singleComicPage.scss\";import AppBanner from\"../appBanner/AppBanner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleComicPage=function SingleComicPage(){var _useParams=useParams(),comicId=_useParams.comicId;var _useComicsService=useComicsService(),loading=_useComicsService.loading,error=_useComicsService.error,getComic=_useComicsService.getComic,clearError=_useComicsService.clearError;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),comic=_useState2[0],setComic=_useState2[1];useEffect(function(){updateComic();},[comicId]);var updateComic=function updateComic(){clearError();getComic(comicId).then(onComicLoaded);};var onComicLoaded=function onComicLoaded(comic){setComic(comic);};var errorMessage=error?/*#__PURE__*/_jsx(ErrorMessage,{}):null;var spinner=loading?/*#__PURE__*/_jsx(Spinner,{}):null;var content=!(loading||error||!comic)?/*#__PURE__*/_jsx(View,{comic:comic}):null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppBanner,{}),errorMessage,spinner,content]});};var View=function View(_ref){var comic=_ref.comic;var title=comic.title,description=comic.description,pageCount=comic.pageCount,thumbnail=comic.thumbnail,language=comic.language,price=comic.price;return/*#__PURE__*/_jsxs(\"div\",{className:\"single-comic\",children:[/*#__PURE__*/_jsx(\"img\",{src:thumbnail,alt:title,className:\"single-comic__img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"single-comic__info\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"single-comic__name\",children:[title,\" \"]}),/*#__PURE__*/_jsx(\"p\",{className:\"single-comic__descr\",children:description}),/*#__PURE__*/_jsx(\"p\",{className:\"single-comic__descr\",children:pageCount}),/*#__PURE__*/_jsxs(\"p\",{className:\"single-comic__descr\",children:[\"Language: \",language]}),/*#__PURE__*/_jsx(\"div\",{className:\"single-comic__price\",children:price})]}),/*#__PURE__*/_jsx(Link,{to:\"/comics\",className:\"single-comic__back\",children:\"Back to all\"})]});};export default SingleComicPage;","map":{"version":3,"names":["useParams","Link","useState","useEffect","ErrorMessage","Spinner","useComicsService","AppBanner","SingleComicPage","comicId","loading","error","getComic","clearError","comic","setComic","updateComic","then","onComicLoaded","errorMessage","spinner","content","View","title","description","pageCount","thumbnail","language","price"],"sources":["/Users/bilous/Projects/umka/marvel_starter/src/components/pages/SingleComicPage.js"],"sourcesContent":["import {useParams, Link} from \"react-router-dom\";\nimport {useState, useEffect} from \"react\";\n\nimport ErrorMessage from \"../errorMessage/ErrorMessage\";\nimport Spinner from \"../spinner/Spinner\";\n\nimport useComicsService from \"../../services/ComicsService\";\n\nimport \"./singleComicPage.scss\";\nimport AppBanner from \"../appBanner/AppBanner\";\n\n\nconst SingleComicPage = () => {\n    const {comicId} = useParams();\n    const {loading, error, getComic, clearError} = useComicsService();\n    const [comic, setComic] = useState(null);\n\n    useEffect(() => {\n        updateComic();\n    }, [comicId]);\n\n    const updateComic = () => {\n        clearError();\n        getComic(comicId)\n            .then(onComicLoaded);\n    };\n\n    const onComicLoaded = (comic) => {\n        setComic(comic);\n    };\n\n    const errorMessage = error ? <ErrorMessage/> : null;\n    const spinner = loading ? <Spinner/> : null;\n    const content = !(loading || error || !comic) ? <View comic={comic}/> : null;\n    return (\n        <>\n            <AppBanner/>\n            {errorMessage}\n            {spinner}\n            {content}\n\n        </>\n\n    )\n};\n const View = ({comic}) => {\n        const {title, description, pageCount, thumbnail, language, price} = comic;\n        return (\n            <div className=\"single-comic\">\n                <img src={thumbnail} alt={title} className=\"single-comic__img\"/>\n                <div className=\"single-comic__info\">\n                    <h2 className=\"single-comic__name\">{title} </h2>\n                    <p className=\"single-comic__descr\">{description}</p>\n                    <p className=\"single-comic__descr\">{pageCount}</p>\n                    <p className=\"single-comic__descr\">Language: {language}</p>\n                    <div className=\"single-comic__price\">{price}</div>\n                </div>\n                <Link to=\"/comics\" className=\"single-comic__back\">Back to all</Link>\n            </div>\n        );\n\n    };\n\nexport default SingleComicPage;"],"mappings":"gIAAA,OAAQA,SAAR,CAAmBC,IAAnB,KAA8B,kBAA9B,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CAEA,MAAOC,aAAP,KAAyB,8BAAzB,CACA,MAAOC,QAAP,KAAoB,oBAApB,CAEA,MAAOC,iBAAP,KAA6B,8BAA7B,CAEA,MAAO,wBAAP,CACA,MAAOC,UAAP,KAAsB,wBAAtB,C,6IAGA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC1B,eAAkBR,SAAS,EAA3B,CAAOS,OAAP,YAAOA,OAAP,CACA,sBAA+CH,gBAAgB,EAA/D,CAAOI,OAAP,mBAAOA,OAAP,CAAgBC,KAAhB,mBAAgBA,KAAhB,CAAuBC,QAAvB,mBAAuBA,QAAvB,CAAiCC,UAAjC,mBAAiCA,UAAjC,CACA,cAA0BX,QAAQ,CAAC,IAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eAEAZ,SAAS,CAAC,UAAM,CACZa,WAAW,GACd,CAFQ,CAEN,CAACP,OAAD,CAFM,CAAT,CAIA,GAAMO,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtBH,UAAU,GACVD,QAAQ,CAACH,OAAD,CAAR,CACKQ,IADL,CACUC,aADV,EAEH,CAJD,CAMA,GAAMA,cAAa,CAAG,QAAhBA,cAAgB,CAACJ,KAAD,CAAW,CAC7BC,QAAQ,CAACD,KAAD,CAAR,CACH,CAFD,CAIA,GAAMK,aAAY,CAAGR,KAAK,cAAG,KAAC,YAAD,IAAH,CAAqB,IAA/C,CACA,GAAMS,QAAO,CAAGV,OAAO,cAAG,KAAC,OAAD,IAAH,CAAgB,IAAvC,CACA,GAAMW,QAAO,CAAG,EAAEX,OAAO,EAAIC,KAAX,EAAoB,CAACG,KAAvB,eAAgC,KAAC,IAAD,EAAM,KAAK,CAAEA,KAAb,EAAhC,CAAwD,IAAxE,CACA,mBACI,wCACI,KAAC,SAAD,IADJ,CAEKK,YAFL,CAGKC,OAHL,CAIKC,OAJL,GADJ,CAUH,CAhCD,CAiCC,GAAMC,KAAI,CAAG,QAAPA,KAAO,MAAa,IAAXR,MAAW,MAAXA,KAAW,CACnB,GAAOS,MAAP,CAAoET,KAApE,CAAOS,KAAP,CAAcC,WAAd,CAAoEV,KAApE,CAAcU,WAAd,CAA2BC,SAA3B,CAAoEX,KAApE,CAA2BW,SAA3B,CAAsCC,SAAtC,CAAoEZ,KAApE,CAAsCY,SAAtC,CAAiDC,QAAjD,CAAoEb,KAApE,CAAiDa,QAAjD,CAA2DC,KAA3D,CAAoEd,KAApE,CAA2Dc,KAA3D,CACA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,GAAG,CAAEF,SAAV,CAAqB,GAAG,CAAEH,KAA1B,CAAiC,SAAS,CAAC,mBAA3C,EADJ,cAEI,aAAK,SAAS,CAAC,oBAAf,wBACI,YAAI,SAAS,CAAC,oBAAd,WAAoCA,KAApC,OADJ,cAEI,UAAG,SAAS,CAAC,qBAAb,UAAoCC,WAApC,EAFJ,cAGI,UAAG,SAAS,CAAC,qBAAb,UAAoCC,SAApC,EAHJ,cAII,WAAG,SAAS,CAAC,qBAAb,wBAA8CE,QAA9C,GAJJ,cAKI,YAAK,SAAS,CAAC,qBAAf,UAAsCC,KAAtC,EALJ,GAFJ,cASI,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,oBAA7B,yBATJ,GADJ,CAcH,CAhBJ,CAkBD,cAAepB,gBAAf"},"metadata":{},"sourceType":"module"}